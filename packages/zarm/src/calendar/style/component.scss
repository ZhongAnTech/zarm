@import '../../style/core/index';
@import 'mixins';


@include b(calendar) {
  @include define(background, #fff);
  @include define(week-bar-font-size, 14px);
  @include define(week-bar-background, #f2f2f2);
  @include define(week-bar-color, var(--za-color-text-caption));
  @include define(action-bar-height, 44px);
  @include define(action-bar-zindex, 10);
  @include define(section-padding, 15px);
  @include define(day-fontsize, 16px);
  @include define(day-title-fontsize, 17px);
  @include define(day-color, var(--za-color-text));
  @include define(day-height, 40px);
  @include define(day-today-background, var(--za-theme-primary-lighter));
  @include define(day-today-color,  var(--za-theme-primary));
  @include define(day-selected-background, var(--za-theme-primary));
  @include define(day-selected-color, #fff);
  @include define(day-selected-shadow, var(--za-theme-primary-lighter));
  @include define(day-range-background, var(--za-theme-primary-lighter));
  @include define(day-range-color, var(--za-theme-primary));
  @include define(scroll-title-background, rgba(255, 255, 255, 0.5));

  background-color: var(--background);
  user-select: none;
  position: relative;

  ul {
    list-style-type: disc;
  }

  li {
    display: inline-block;
    width: 14.28571%;
    text-align: center;
    vertical-align: middle;
  }

  @include b(picker-view) {
    position: absolute;
    top: var(--action-bar-height);
    z-index: var(--action-bar-zindex);
  }

  @include e(bar) {
    display: flex;
    flex-wrap: wrap;
    color: var(--week-bar-color);
    background-color: var(--week-bar-background);
    font-size: var(--week-bar-fontsize);
    margin: 0;
    padding: 0 var(--section-padding);
    list-style-type: disc;

    &__item {
      height: var(--day-height);
      line-height: var(--day-height);
    }
  }

  @include e(header) {
    padding: var(--section-padding);
    display: flex;
    height: var(--action-bar-height);
    align-items: center;

    @include b(calendar__action-btn) {
      display: flex;

      @include m(disabled) {
        color: var(--color-text-disabled);
      }
    }
  }

  @include e(title) {
    flex: 1;
    align-items: center;
    align-content: center;

    @include m(animate) {
      @include b(icon) {
        transform: rotate(90deg);
        transition: all 0.15s ease-in-out;
      }
    }
  }

  @include e(action) {
    display: flex;

    @include m(disabled) {
      color: var(--color-text-disabled);
    }
  }

  @include e(body) {
    padding: r(10) 0;
    overflow: auto;
  }

  @include e(scroll-title) {
    position: absolute;
    top: var(--day-height);
    width: 100%;
    text-align: center;
    display: none;
    transition: opacity 300ms ease-in-out;
    background-color: var(--scroll-title-background);
    height: var(--day-height);
    line-height: var(--day-height);

    @include m(entering) {
      display: block;
      opacity: 1;
    }
    @include m(entered) {
      display: block;
      opacity: 1;
    }
    @include m(exiting) {
      display: block;
      opacity: 0;
    }
  }

  @include e(month) {
    padding: 0 var(--section-padding);
    color: var(--day-color);
    flex-shrink: 0;
    width: 100%;

    ul {
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: flex-start;
      align-items: stretch;
    }

    &:before {
      content: attr(title);
      display: block;
      margin: 0 auto;
      font-size: var(--day-title-fontsize);
      font-weight: 500;
      padding: r(15);
    }
  }

  @include e(day) {
    margin: r(10) 0;
    position: relative;
    font-size: var(--day-fontsize);
    cursor: pointer;

    &__content {
      width: r(30);
      height: r(30);
      background-color: transparent;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0 auto;
    }

    // @include firstday();

    @include m(today) {
      @include b(calendar) {
        @include e(day__content) {
          background-color: var(--day-today-background);
          color: var(--day-today-color);
        }
      }
    }

    @include m(selected) {
      @include b(calendar) {
        @include e(day__content) {
          background-color: var(--day-selected-background);
          color: var(--day-selected-color);
          box-shadow: 0 r(2) r(5) 0 var(--day-selected-shadow);
        }
      }
    }

    @include m(disabled) {
      cursor: auto;
      @include b(calendar) {
        @include e(day__content) {
          color: var(--color-text-disabled);
        }
      }
    }

    @include m(range) {
      background-color: var(--day-range-background);
      color: var(--day-range-color);

      @include b(calendar) {
        @include e(day__content) {
          background-color: var(--day-range-background);
        }
      }

      &:first-child {
        background-color: transparent;
        @include linegradient(right);
      }

      &:last-child {
        background-color: transparent;
        @include linegradient(left);
      }
    }

    @include m(d6) {
      background-color: transparent;
      @include linegradient(left);
    }

    @include m(d7) {
      background-color: transparent;
      @include linegradient(right);
    }

    @include m(start) {
      background-color: transparent;
      @include linegradient(right);
    }

    @include m(end) {
      background-color: transparent;
      @include linegradient(left);
    }

    @include m(last, first) {
      background-image: none;
    }
  }
}
